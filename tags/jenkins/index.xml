<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jenkins on メモ帳</title><link>/tags/jenkins/</link><description>Recent content in Jenkins on メモ帳</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Tue, 11 Apr 2017 00:00:00 +0000</lastBuildDate><atom:link href="/tags/jenkins/index.xml" rel="self" type="application/rss+xml"/><item><title>JenkinsのLDAP連携</title><link>/post/jenkins%E3%81%AEldap%E9%80%A3%E6%90%BA/</link><pubDate>Tue, 11 Apr 2017 00:00:00 +0000</pubDate><guid>/post/jenkins%E3%81%AEldap%E9%80%A3%E6%90%BA/</guid><description>はじめに 前回GitlabをLDAP連携したので今度はJenkinsでもLDAP連携してみる
こちらも例の如くDocker上で動かす
環境 Docker version 17.03.1-ce Docker-compose version 1.12.0 jenkinsci/jenkins:2.54-alpine 構築 Jenkinsの起動 何はともあれdocker-compose.ymlを書く
1version:&amp;#34;2&amp;#34;23services:4jenkins:5restart:always6image:jenkinsci/jenkins:2.54-alpine7ports:8- &amp;#34;50000:50000&amp;#34;9- &amp;#34;8080:8080&amp;#34;10volumes:11- /home/jenkins:/var/jenkins_home実行する
1$ docker-compose up -d 8080ポートをブラウザ上で開いたら初期登録のウィザードが始まるのでウィザードに従っていく
最初のパスワードはブラウザ上で指定された場所に一時キーが書き込まれたファイルがあるので確認する
1$ docker exec -it jenkins_jenkins_1 bash 2# cat /var/jenkins_home/secrets/initialAdminPassword 確認したキーをブラウザ上に貼り付けユーザー作成や各種プラグインのインストール等を済ませる
これでひとまず終わり
LDAP 設定 Jenkinsの管理 -&amp;gt; グローバルセキュリティの設定 と移動する
JenkinsのユーザーデータベースからLDAPに変更し
サーバー
LDAP認証を提供しているサーバーを指定する
例）ldap://192.168.1.123
[高度な設定]ボタンをクリック root DN
対象となるLDAPグループのDNを入力する
例）dc=hoge,dc=fuga,dc=com User search base
ユーザーの検索に使われる
LDAP側の設定に合わせる
例）ou=people User search filter
ユーザー名の検索に使用される
LDAP側の設定に合わせる
例）uid={0} 権限管理
この時点ではまだ「全員に許可」にしておく
ログイン方式を1つしか選択出来ない？ようなので設定漏れがあった際にログイン出来なくなってしまうため ここまで設定したら保存する</description></item></channel></rss>