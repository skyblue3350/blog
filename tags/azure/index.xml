<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Azure on メモ帳</title><link>/tags/azure/</link><description>Recent content in Azure on メモ帳</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Mon, 27 Nov 2017 00:00:00 +0000</lastBuildDate><atom:link href="/tags/azure/index.xml" rel="self" type="application/rss+xml"/><item><title>Azure Computer Vision APIをcurlで試す</title><link>/post/azure-computer-vision-api%E3%82%92curl%E3%81%A7%E8%A9%A6%E3%81%99/</link><pubDate>Mon, 27 Nov 2017 00:00:00 +0000</pubDate><guid>/post/azure-computer-vision-api%E3%82%92curl%E3%81%A7%E8%A9%A6%E3%81%99/</guid><description>はじめに Azure Computer Vision APIをcurlで試してみます．
普通に適当な言語でコードを書いた方が楽なんですがちょっと諸事情あってシェルスクリプト書かないといけなくなったのでメモ．
事前準備 予めコンソールの方でAPIを有効化しておきAPIキーを取得しておきます．
curlで取得してみる 1行で書くとわかりにくいのでシェルスクリプトにしておきます．
スクリプト内のLOCATION変数はAPI有効化の時に選択したロケーションと一致している必要があります．
1IMAGE=&amp;#34;./sample.jpg&amp;#34; 2LOCATION=&amp;#34;southeastasia&amp;#34; 3VISUALFEATURES=&amp;#34;Categories&amp;#34; 4DETAILS=&amp;#34;&amp;#34; 5LANGUAGE=&amp;#34;en&amp;#34; 6APIKEY=&amp;#34;取得したキー&amp;#34; 78curl -s -X POST \ 9&amp;#34;https://${LOCATION}.api.cognitive.microsoft.com/vision/v1.0/analyze?visualFeatures=${VISUALFEATURES}&amp;amp;details=${DETAILS}&amp;amp;language=${LANGUAGE}&amp;#34; \ 10-H &amp;#34;Content-Type: application/octet-stream&amp;#34; \ 11-H &amp;#34;Ocp-Apim-Subscription-Key: ${APIKEY}&amp;#34; \ 12--data-binary &amp;#34;@${IMAGE}&amp;#34; レスポンスはjsonなのでjqコマンドとかでパースすると良い感じです．
カテゴリ名とスコアが欲しかったら
1$ curl ～省略～ | jq -r &amp;#39;.categories[] | &amp;#34;\(.name), \(.score)&amp;#34;&amp;#39; 2abstract_nonphoto, 0.23828125 3abstract_texture, 0.53515625 とかでとれます．
参考記事 Computer Vision cURL Quick Starts</description></item><item><title>Azure CLI2.0をインストールして使ってみる</title><link>/post/azure-cli2.0%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%81%A6%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B/</link><pubDate>Sat, 25 Nov 2017 00:00:00 +0000</pubDate><guid>/post/azure-cli2.0%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%97%E3%81%A6%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B/</guid><description>はじめに Azure CLIを使いたい用事が出来たのでcygwinにAzure CLIを入れたのでその時のメモ
一般のディストリビューションならパッケージが提供されてるのでそっちをインストールした方が遥かに楽です
Storageを取得するところまでやります
環境 cygwin
apt-cygが使える前提です 前提パッケージのインストール 1$ apt-cyg install python2-devel libffi-devel openssl-devel CLIのインストール 1$ curl -L https://aka.ms/InstallAzureCli | bash 待ってるとインストールが終わります
1$ az -v 2azure-cli (2.0.21) ログイン 対話式でログインしてみます
表示されたURLにアクセスしてアクセスコード（例ではAB12C34DE）を入力した後に使用するアカウントでログインします．
ブラウザ上で一通り作業が終了するとログイン情報のjsonが表示されます
1$ az login 2To sign in, use a web browser to open the page https://aka.ms/devicelogin and enter the code AB12C34DE to authenticate. 3[ 4{ 5&amp;#34;cloudName&amp;#34;: &amp;#34;AzureCloud&amp;#34;, 6&amp;#34;id&amp;#34;: &amp;#34;xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx&amp;#34;, 7&amp;#34;isDefault&amp;#34;: true, 8&amp;#34;name&amp;#34;: &amp;#34;無料試用版&amp;#34;, 9&amp;#34;state&amp;#34;: &amp;#34;Enabled&amp;#34;, 10&amp;#34;tenantId&amp;#34;: &amp;#34;xxxxxxxx-0000-0000-xxxx-xxxxxxxxxx&amp;#34;, 11&amp;#34;user&amp;#34;: { 12&amp;#34;name&amp;#34;: &amp;#34;example@example.</description></item></channel></rss>