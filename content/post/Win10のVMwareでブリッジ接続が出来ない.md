+++
author = "すかい"
title = "Win10のVMwareでブリッジ接続が出来ない"
date = "2017-12-24"
description = "Win10のVMwareでブリッジ接続が出来ない"
tags = [
    "VMware",
]
+++

## はじめに

Windows10でVMware Workstation player 12でブリッジ接続しようとしたら上手くいかなかったのでその時の対応メモ

## 環境

- Windows10 Home 64bit
- VMware Workstation player 12
- NICは2つ
  - WiFi 今回はこっちのネットワークにブリッジさせたい
  - LAN

## VMwareのネットワーク設定

### NICの設定

コンパネからネットワークアダプタの設定へ移動して今回ブリッジさせたいNICを選ぶ．
今回はWiFiなのでワイヤレスネットワークを選択しプロパティを開く．
使用する項目内に「VMware Bridge Protocol」があるか確認しある場合はチェックをつける．
逆にない場合はインストール->サービス->製造元：VMwareの中にある当該Protocolを追加しチェックをつける．
また，使わないNICに当該Protocolがある場合はチェックを外しておく．

一度再起動しておく．

### 仮想ネットワークの設定

VMwareの仮想ネットワークはvmnetcfg.exeを使用することで設定出来るらしい．
しかし無償版のVMware Workstationにはこのツールが入っていないので有償版のProのインストーラーをダウンロードする．
それを7-zip等のアーカイバを使い中身を開くと中にCore.cabというキャビネットファイルがあるので更にそれを展開する．
その中に件のexeファイルが入っているのでこれを**VMwareをインストールしたディレクトリ**に配置する．
配置する場所を間違えると「glib-2.0.dllがありません」等のエラーが出て起動出来ない．

起動したら既にあるアダプタの設定を変更若しくは追加する．
既存のものを編集するのは躊躇われたので今回は追加した．
追加して接続方法からブリッジを選択し，先程設定したNICデバイスをブリッジ先として選択する．
再起動せずにここまで来ていると選択可能なデバイスがないとエラーが出るので適宜1つ前の設定を行った上で再起動し設定する．

正しく設定出来たらブリッジ接続したいVMの設定からネットワークアダプタを追加し，ネットワーク接続の種類からカスタムを選び，追加したアダプタを選択する．
これでVM内から利用することが出来るようになるので適宜ネットワークの設定等を行えばブリッジ接続が利用出来る．
