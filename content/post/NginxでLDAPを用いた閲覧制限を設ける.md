+++
author = "すかい"
title = "NginxでLDAPを用いた閲覧制限を設ける"
date = "2017-06-12"
description = "NginxでLDAPを用いた閲覧制限を設ける"
tags = [
    "Nginx",
]
+++

LDAPを用いた管理をしていてそのグループ内専用のWebサービスを公開している場合に困るのが閲覧制限です．
ApacheでやるにしろNginxでやるにしろ基本的に提供されているのはBasic認証を用いたシンプルな認証機構です．

なければ作ろうな精神で作りました
https://github.com/skyblue3350/cypress

仕組み自体の説明は

- [クックパッド開発者ブログ nginx で omniauth を利用してアクセス制御を行う](http://techlife.cookpad.com/entry/2015/10/16/080000)

にて説明されているのでこちらを参考にして下さい

Python3系で作りましたがLDAP関連のモジュールの基幹ライブラリが2系にしか対応していないので有名どころなモジュールは軒並み使えないのが痛いです．
~~早く対応してほしい．~~

使い方はシンプルですのでログイン画面を良い感じのテーマに変更したい場合はHTMLの知識さえあればカスタマイズ出来ると思います
今回もDockerを用いた開発になったのでそのうちDockerhubで公開するつもりです
